function init_progress_bars(){setTimeout(function(){$(".progress .progress-bar").each(function(){var a=$(this),b=a.attr("data-percent"),c=0,d=setInterval(function(){c>=b?(clearInterval(d),0==b&&a.css("width","0%")):(c+=1,a.css("width",c+"%")),a.hasClass("no-percent-text")||a.text(c+"%")},10)})},300)}function init_color_pickers(){$("body").find(".colorpicker-input").colorpicker({format:"hex"})}function init_datepicker(){var a=$(".datepicker"),b=$(".datetimepicker");$.each(a,function(){var a={format:date_format,timepicker:!1,lazyInit:!0,scrollInput:!1,dayOfWeekStart:calendar_first_day},b=$(this).data("date-end-date"),c=$(this).data("date-min-date");b&&(a.maxDate=b),c&&(a.minDate=c),$(this).datetimepicker(a)});var c;$.each(b,function(){c={format:date_format+" H:i",lazyInit:!0,scrollInput:!1,dayOfWeekStart:calendar_first_day};var a=$(this).data("date-end-date"),b=$(this).data("date-min-date");a&&(c.maxDate=a),b&&(c.minDate=b),$(this).datetimepicker(c)}),$(".calendar-icon").on("click",function(){$(this).parents(".date").find(".datepicker").datetimepicker("show"),$(this).parents(".date").find(".datetimepicker").datetimepicker("show")})}function is_mobile(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function alert_float(a,b){var c,d;c=$("body").find("float-alert").length,c++,c="alert_float_"+c,d=$('<div id="'+c+'" class="float-alert animated fadeInRight col-xs-11 col-sm-4 alert alert-'+a+'"><button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button><span class="fa fa-bell-o" data-notify="icon"></span><span class="alert-title">'+b+"</span></div>"),$("body").append(d),setTimeout(function(){$("#"+c).hide("fast",function(){$("#"+c).remove()})},4e3)}$(window).on("load",function(){var a=$(document).outerHeight(!0);$(".proposal-right").height(a+"px")}),$(function(){$.validator.setDefaults({highlight:function(a){$(a).closest(".form-group").addClass("has-error")},unhighlight:function(a){$(a).closest(".form-group").removeClass("has-error")},errorElement:"span",errorClass:"text-danger",errorPlacement:function(a,b){b.parent(".input-group").length||b.parents(".chk").length?b.parents(".chk").length?a.insertAfter(b.parents(".chk")):a.insertAfter(b.parent()):a.insertAfter(b)}}),init_progress_bars(),init_color_pickers(),jQuery.datetimepicker.setLocale(locale),init_datepicker(),$("body").tooltip({selector:'[data-toggle="tooltip"]'}),$("body").popover({selector:'[data-toggle="popover"]'}),$("body").on("click",function(a){$('[data-toggle="popover"]').each(function(){$(this).is(a.target)||0!==$(this).has(a.target).length||0!==$(".popover").has(a.target).length||$(this).popover("hide")})}),$("body").on("click","._delete",function(a){var b=confirm(confirm_action_prompt);return 1==b}),$(".article_useful_buttons button").on("click",function(a){a.preventDefault();var b={};b.answer=$(this).data("answer"),b.articleid=$('input[name="articleid"]').val(),$.post(site_url+"clients/add_kb_answer",b).done(function(a){a=JSON.parse(a),1==a.success&&$(this).focusout(),$(".answer_response").html(a.message)})}),$("body").on("click","[data-loading-text]",function(){var a=$(this).data("form");null!=a?$(a).valid()&&$(this).button("loading"):$(this).button("loading")}),$("#survey_form").validate();var a=$("#survey_form").find('[data-required="1"]');$.each(a,function(){$(this).rules("add",{required:!0});var a=$(this).data("for"),b=$(this).parents(".form-group").find('[for="'+a+'"]');b.length>0&&0==b.find(".req").length&&b.prepend(' <small class="req text-danger">* </small>')})});